(function(a,l,c){var b=Math.PI*2,j=Math.PI/2;function g(m){var o=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;m=m.replace(o,function(s,t,q,p){return t+t+q+q+p+p});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(m);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function f(n,o,m,p){return Math.round(m+((p-m)*n/o))}function e(o,n,u,m,t){var s=t.indexOf("#")!=-1?g(t):t.match(/\d+/g),r=m.indexOf("#")!=-1?g(m):m.match(/\d+/g),q=u-n,p=o-n;if(!s||!r){return null}return"rgb("+f(p,q,r[0],s[0])+","+f(p,q,r[1],s[1])+","+f(p,q,r[2],s[2])+")"}function i(){var m=arguments,r=m[0];for(var n=1,p=m.length;n<p;n++){var q=m[n];for(var o in q){if(q.hasOwnProperty(o)){r[o]=q[o]}}}return r}function d(m){return function(q){if(!m){return q.toString()}q=q||0;var r=q.toString().split("").reverse(),s=m.split("").reverse(),n=0,o=0;for(var p=s.length;n<p;n++){if(!r.length){break}if(s[n]=="#"){o=n;s[n]=r.shift()}}s.splice(o+1,s.lastIndexOf("#")-o,r.reverse().join(""));return s.reverse().join("")}}function h(n,o){o=o||{};o=i({},k.defaults,o);this.indOption=o;if(typeof n=="string"){n=c.querySelector(n)}if(n.length){n=n[0]}this.container=n;var m=c.createElement("canvas");n.appendChild(m);this.canElm=m;this.ctx=m.getContext("2d");this.current_value=o.initValue||o.minValue||0}h.prototype={constructor:k,init:function(){var q=this.indOption,m=this.canElm,o=this.ctx,p=(q.radius+q.barWidth)*2,n=p/2;this.formatter=typeof q.format=="function"?q.format:d(q.format);this.maxLength=q.percentage?4:this.formatter(q.maxValue).length;m.width=p;m.height=p;o.strokeStyle=q.barBgColor;o.lineWidth=q.barWidth;o.beginPath();o.arc(n,n,q.radius,0,2*Math.PI);o.stroke();this.imgData=o.getImageData(0,0,p,p);this.value(this.current_value);return this},value:function(F){if(F===undefined||isNaN(F)){return this.current_value}F=parseFloat(F);var q=this.ctx,w=this.indOption,r=w.barColor,s=(w.radius+w.barWidth)*2,z=w.minValue,y=w.maxValue,o=s/2;F=F<z?z:F>y?y:F;var B=Math.round(((F-z)*100/(y-z))*100)/100,t=w.percentage?B+"%":this.formatter(F);this.current_value=F;q.putImageData(this.imgData,0,0);if(typeof r=="object"){var C=Object.keys(r);for(var v=1,x=C.length;v<x;v++){var n=C[v-1],E=C[v],m=r[n],D=r[E],A=F==n?m:F==E?D:F>n&&F<E?w.interpolate?e(F,n,E,m,D):D:false;if(A!=false){r=A;break}}}q.strokeStyle=r;if(w.roundCorner){q.lineCap="round"}q.beginPath();q.arc(o,o,w.radius,-(j),((b)*B/100)-j,false);q.stroke();if(w.displayNumber){var p=q.font.split(" "),G=w.fontWeight,u=w.fontSize||(s/(this.maxLength-(Math.floor(this.maxLength*1.4/4)-1)));p=w.fontFamily||p[p.length-1];q.fillStyle=w.fontColor||r;q.font=G+" "+u+"px "+p;q.textAlign="center";q.textBaseline="middle";q.fillText(t,o,o)}return this},animate:function(r){var p=this.indOption,n=this.current_value||p.minValue,q=this,o=Math.ceil((p.maxValue-p.minValue)/(p.frameNum||(p.percentage?100:500))),m=r<n;if(this.intvFunc){clearInterval(this.intvFunc)}this.intvFunc=setInterval(function(){if((!m&&n>=r)||(m&&n<=r)){if(q.current_value==n){clearInterval(q.intvFunc);return}else{n=r}}q.value(n);if(n!=r){n=n+(m?-o:o)}},p.frameTime);return this},option:function(m,n){if(n===undefined){return this.option[m]}if(["radius","barWidth","barBgColor","format","maxValue","percentage"].indexOf(m)!=-1){this.indOption[m]=n;this.init().value(this.current_value)}this.indOption[m]=n}};function k(m,n){var o=new h(m,n);o.init();return o}k.defaults={radius:50,barWidth:5,barBgColor:"#eeeeee",barColor:"#99CC33",format:null,frameTime:10,frameNum:null,fontColor:null,fontFamily:null,fontWeight:"bold",fontSize:null,interpolate:true,percentage:false,displayNumber:true,roundCorner:false,minValue:0,maxValue:100,initValue:0};l.radialIndicator=k;if(a){a.fn.radialIndicator=function(m){return this.each(function(){var n=k(this,m);a.data(this,"radialIndicator",n)})}}}(window.jQuery,window,document,void 0));